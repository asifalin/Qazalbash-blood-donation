"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[759],{8759:(e,t,a)=>{a.r(t),a.d(t,{default:()=>K});var n=a(91215),r=a(26712),l=a(35591),i=a(50411);let s=l.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("div",{className:"relative w-full overflow-auto",children:(0,n.jsx)("table",{ref:t,className:(0,i.cn)("w-full caption-bottom text-sm",a),...r})})});s.displayName="Table";let d=l.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("thead",{ref:t,className:(0,i.cn)("[&_tr]:border-b",a),...r})});d.displayName="TableHeader";let o=l.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("tbody",{ref:t,className:(0,i.cn)("[&_tr:last-child]:border-0",a),...r})});o.displayName="TableBody",l.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("tfoot",{ref:t,className:(0,i.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...r})}).displayName="TableFooter";let c=l.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("tr",{ref:t,className:(0,i.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...r})});c.displayName="TableRow";let h=l.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("th",{ref:t,className:(0,i.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...r})});h.displayName="TableHead";let u=l.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("td",{ref:t,className:(0,i.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...r})});u.displayName="TableCell",l.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("caption",{ref:t,className:(0,i.cn)("mt-4 text-sm text-muted-foreground",a),...r})}).displayName="TableCaption";var m=a(32668),x=a(8475);let g=(0,x.A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),f=(0,x.A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),p=(0,x.A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);var j=a(37742),v=a(3424),b=a(17630),N=a(25044),y=a(73084),D=a(9176),w=a(96462),C=a(64436),S=a(6416),F=a(27166);function T(e,t){var a;let n,r;let l=()=>(0,S.w)(null==t?void 0:t.in,NaN),i=null!==(a=null==t?void 0:t.additionalDigits)&&void 0!==a?a:2,s=function(e){let t;let a={},n=e.split(k.dateTimeDelimiter);if(n.length>2)return a;if(/:/.test(n[0])?t=n[0]:(a.date=n[0],t=n[1],k.timeZoneDelimiter.test(a.date)&&(a.date=e.split(k.timeZoneDelimiter)[0],t=e.substr(a.date.length,e.length))),t){let e=k.timezone.exec(t);e?(a.time=t.replace(e[1],""),a.timezone=e[1]):a.time=t}return a}(e);if(s.date){let e=function(e,t){let a=RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(a);if(!n)return{year:NaN,restDateString:""};let r=n[1]?parseInt(n[1]):null,l=n[2]?parseInt(n[2]):null;return{year:null===l?r:100*l,restDateString:e.slice((n[1]||n[2]).length)}}(s.date,i);n=function(e,t){var a,n,r,l,i,s,d,o;if(null===t)return new Date(NaN);let c=e.match(A);if(!c)return new Date(NaN);let h=!!c[4],u=M(c[1]),m=M(c[2])-1,x=M(c[3]),g=M(c[4]),f=M(c[5])-1;if(h){return(a=0,n=g,r=f,n>=1&&n<=53&&r>=0&&r<=6)?function(e,t,a){let n=new Date(0);n.setUTCFullYear(e,0,4);let r=n.getUTCDay()||7;return n.setUTCDate(n.getUTCDate()+((t-1)*7+a+1-r)),n}(t,g,f):new Date(NaN)}{let e=new Date(0);return(l=t,i=m,s=x,i>=0&&i<=11&&s>=1&&s<=(G[i]||(P(l)?29:28))&&(d=t,(o=u)>=1&&o<=(P(d)?366:365)))?(e.setUTCFullYear(t,m,Math.max(u,x)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!n||isNaN(+n))return l();let d=+n,o=0;if(s.time&&isNaN(o=function(e){var t,a,n;let r=e.match(E);if(!r)return NaN;let l=z(r[1]),i=z(r[2]),s=z(r[3]);return(t=l,a=i,n=s,24===t?0===a&&0===n:n>=0&&n<60&&a>=0&&a<60&&t>=0&&t<25)?l*C.s0+i*C.Cg+1e3*s:NaN}(s.time)))return l();if(s.timezone){if(isNaN(r=function(e){var t,a;if("Z"===e)return 0;let n=e.match(B);if(!n)return 0;let r="+"===n[1]?-1:1,l=parseInt(n[2]),i=n[3]&&parseInt(n[3])||0;return(t=0,(a=i)>=0&&a<=59)?r*(l*C.s0+i*C.Cg):NaN}(s.timezone)))return l()}else{let e=new Date(d+o),a=(0,F.a)(0,null==t?void 0:t.in);return a.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),a.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),a}return(0,F.a)(d+o+r,null==t?void 0:t.in)}let k={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},A=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,E=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,B=/^([+-])(\d{2})(?::?(\d{2}))?$/;function M(e){return e?parseInt(e):1}function z(e){return e&&parseFloat(e.replace(",","."))||0}let G=[31,null,31,30,31,30,31,31,30,31,30,31];function P(e){return e%400==0||e%4==0&&e%100!=0}var U=a(55633),q=a(68978),I=a(72915),R=a(55863);let H=["A+","A-","B+","B-","AB+","AB-","O+","O-"],J=["Gilgit","Nagar","Astore","Skardu","Hunza","Ghizer","Chilas","Haramush"],$=["Active","Inactive"];function L(e){let{donorId:t,open:a,onOpenChange:s}=e,d=(0,r.wA)(),{toast:o}=(0,D.dj)(),{donors:c,loading:h}=(0,r.d4)(e=>e.donors),u=c.find(e=>e.id===t),[x,g]=(0,l.useState)({fullName:"",fatherName:"",totalBloodDonate:0,bloodGroup:"",age:"",city:"",address:"",contactNumber:"",donationStatus:"Inactive"}),[f,p]=(0,l.useState)(),[C,S]=(0,l.useState)(!1);(0,l.useEffect)(()=>{if(u){if(g({fullName:u.fullName||"",fatherName:u.fatherName||"",totalBloodDonate:u.totalBloodDonate||0,bloodGroup:u.bloodGroup||"",age:u.age||"",city:u.city||"",address:u.address||"",contactNumber:u.contactNumber||"",donationStatus:u.donationStatus||"Inactive"}),u.lastDonationDate)try{p(T(u.lastDonationDate))}catch(e){p(void 0)}"Active"===u.donationStatus?S(!0):S(!1)}},[u]);let F=e=>{let{name:t,value:a}=e.target;g(e=>({...e,[t]:a}))},k=(e,t)=>{g(a=>({...a,[e]:t}))},A=async e=>{if(e.preventDefault(),!u)return;let t={id:u.id,...x,lastDonationDate:f?(0,U.GP)(f,"yyyy-MM-dd"):"",donationStatus:C?"Active":x.donationStatus};try{await d((0,j.cT)(t)).unwrap(),o({title:"Donor Updated",description:"Donor information has been updated successfully"}),s(!1)}catch(e){o({title:"Error",description:"Failed to update donor. Please try again.",variant:"destructive"})}};return u?(0,n.jsx)(N.lG,{open:a,onOpenChange:s,children:(0,n.jsxs)(N.Cf,{className:"sm:max-w-[500px]",children:[(0,n.jsxs)(N.c7,{children:[(0,n.jsx)(N.L3,{children:"Edit Blood Donor"}),(0,n.jsx)(N.rr,{children:"Update the details of the blood donor."})]}),(0,n.jsxs)("form",{onSubmit:A,children:[(0,n.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(b.J,{htmlFor:"fullName",children:"Full Name"}),(0,n.jsx)(v.p,{id:"fullName",name:"fullName",value:x.fullName,onChange:F,required:!0,disabled:h})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(b.J,{htmlFor:"fatherName",children:" Father Name"}),(0,n.jsx)(v.p,{id:"fatherName",name:"fatherName",value:x.fatherName,onChange:F,required:!0,disabled:h})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(b.J,{htmlFor:"bloodGroup",children:"Blood Group"}),(0,n.jsxs)(y.l6,{value:x.bloodGroup,onValueChange:e=>k("bloodGroup",e),disabled:h,children:[(0,n.jsx)(y.bq,{children:(0,n.jsx)(y.yv,{placeholder:"Select blood group"})}),(0,n.jsx)(y.gC,{children:H.map(e=>(0,n.jsx)(y.eb,{value:e,children:e},e))})]})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(b.J,{htmlFor:"age",children:"Age"}),(0,n.jsx)(v.p,{id:"age",name:"age",value:x.age,onChange:F,required:!0,disabled:h})]})]}),(0,n.jsx)("div",{className:"grid gap-2",children:(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(R.S,{id:"justDonated",checked:C,onCheckedChange:e=>{S(e),e?(p(new Date),g(e=>({...e,donationStatus:"Active"}))):g(e=>({...e,donationStatus:"Inactive"}))},disabled:h}),(0,n.jsx)(b.J,{htmlFor:"justDonated",children:"This person just donated blood today"})]})}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(b.J,{htmlFor:"city",children:"City"}),(0,n.jsxs)(y.l6,{value:x.city,onValueChange:e=>k("city",e),disabled:h,children:[(0,n.jsx)(y.bq,{children:(0,n.jsx)(y.yv,{placeholder:"Select city"})}),(0,n.jsx)(y.gC,{children:J.map(e=>(0,n.jsx)(y.eb,{value:e,children:e},e))})]})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(b.J,{children:"Last Donation Date"}),(0,n.jsxs)(I.AM,{children:[(0,n.jsx)(I.Wv,{asChild:!0,children:(0,n.jsxs)(m.$,{variant:"outline",className:(0,i.cn)("w-full justify-start text-left font-normal",!f&&"text-muted-foreground"),disabled:C||h,children:[(0,n.jsx)(w.A,{className:"mr-2 h-4 w-4"}),f?(0,U.GP)(f,"PPP"):(0,n.jsx)("span",{children:"Pick a date"})]})}),(0,n.jsx)(I.hl,{className:"w-auto p-0",children:(0,n.jsx)(q.V,{mode:"single",selected:f,onSelect:p,initialFocus:!0})})]})]})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(b.J,{htmlFor:"address",children:"Address"}),(0,n.jsx)(v.p,{id:"address",name:"address",value:x.address,onChange:F,required:!0,disabled:h})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(b.J,{htmlFor:"contactNumber",children:"Contact Number"}),(0,n.jsx)(v.p,{id:"contactNumber",name:"contactNumber",value:x.contactNumber,onChange:F,required:!0,disabled:h})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(b.J,{htmlFor:"totalBloodDonate",children:"Total Blood Donate"}),(0,n.jsx)(v.p,{id:"totalBloodDonate",name:"totalBloodDonate",value:x.totalBloodDonate,onChange:F,required:!0,disabled:h})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(b.J,{htmlFor:"donationStatus",children:"Donation Status"}),(0,n.jsxs)(y.l6,{value:x.donationStatus,onValueChange:e=>k("donationStatus",e),disabled:C||h,children:[(0,n.jsx)(y.bq,{children:(0,n.jsx)(y.yv,{placeholder:"Select status"})}),(0,n.jsx)(y.gC,{children:$.map(e=>(0,n.jsx)(y.eb,{value:e,children:e},e))})]})]})]})]}),(0,n.jsxs)(N.Es,{children:[(0,n.jsx)(m.$,{type:"button",variant:"outline",onClick:()=>s(!1),disabled:h,children:"Cancel"}),(0,n.jsx)(m.$,{type:"submit",className:"bg-red-500 hover:bg-red-600",disabled:h,children:h?"Updating...":"Update Donor"})]})]})]})}):null}var _=a(51651);let Y=(0,a(83736).F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function O(e){let{className:t,variant:a,...r}=e;return(0,n.jsx)("div",{className:(0,i.cn)(Y({variant:a}),t),...r})}var V=a(29931),Z=a(53120),Q=a(43790);function W(e,t){let a=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return a<0?-1:a>0?1:a}function K(){let{filteredDonors:e,loading:t}=(0,r.d4)(e=>e.donors),[i,x]=(0,l.useState)(null),[v,b]=(0,l.useState)(null),N=(0,r.wA)(),{toast:y}=(0,D.dj)(),w=e=>{try{if(!e)return null;let t=T(e);if(!(0,V.f)(t))return null;return function(e,t,a){let[n,r]=(0,Z.x)(void 0,e,t),l=W(n,r),i=Math.abs((0,Q.m)(n,r));n.setDate(n.getDate()-l*i);let s=Number(W(n,r)===-l),d=l*(i-s);return 0===d?0:d}(new Date,t)}catch(e){return console.error("Error calculating donation day:",e),null}},C=e=>{if(!e||!e.donationStatus||"Inactive"===e.donationStatus)return!1;let t=w(e.lastDonationDate);return null!==t&&t<90},S=e=>{let t=w(e);return null===t?"-":0===t?"Just donated today":1===t?"1 day ago":t<90?"".concat(t," days ago"):"".concat(t," days ago (Inactive)")},F=async()=>{if(v){try{await N((0,j.EK)(v)).unwrap(),y({title:"Donor Deleted",description:"The donor has been removed from the system"})}catch(e){y({title:"Error",description:"Failed to delete donor. Please try again.",variant:"destructive"})}b(null)}},k=e=>{x(e)};(0,l.useEffect)(()=>{N((0,j.Ys)())},[N]);let A=e.filter((e,t,a)=>t===a.findIndex(t=>t.id===e.id));return t&&0===e.length?(0,n.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,n.jsx)("div",{className:"text-lg",children:"Loading donors..."})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"rounded-md border",children:(0,n.jsxs)(s,{children:[(0,n.jsx)(d,{children:(0,n.jsxs)(c,{children:[(0,n.jsx)(h,{className:"w-[50px]",children:"S.No"}),(0,n.jsx)(h,{children:"Name"}),(0,n.jsx)(h,{children:"Father Name"}),(0,n.jsx)(h,{children:"Blood Group"}),(0,n.jsx)(h,{children:"City"}),(0,n.jsx)(h,{children:"Address"}),(0,n.jsx)(h,{children:"Last Donation"}),(0,n.jsx)(h,{children:"Duration"}),(0,n.jsx)(h,{children:"Age"}),(0,n.jsx)(h,{children:"Status"}),(0,n.jsx)(h,{children:"Contact"}),(0,n.jsx)(h,{children:"Total blood Donate"}),(0,n.jsx)(h,{className:"text-right",children:"Actions"})]})}),(0,n.jsx)(o,{children:A.length>0?A.map((e,a)=>{if(!e)return null;let r=C(e);return w(e.lastDonationDate||""),(0,n.jsxs)(c,{className:r?"bg-red-50 hover:bg-red-100":"bg-white hover:bg-gray-50",children:[(0,n.jsx)(u,{children:a+1}),(0,n.jsx)(u,{className:"font-medium",children:(0,n.jsx)("div",{className:"flex items-center gap-2",children:e.fullName})}),(0,n.jsx)(u,{children:e.fatherName}),(0,n.jsx)(u,{children:e.bloodGroup}),(0,n.jsx)(u,{children:e.city}),(0,n.jsx)(u,{children:e.address}),(0,n.jsx)(u,{children:r&&e.lastDonationDate||"-"}),(0,n.jsx)(u,{children:r&&e.lastDonationDate?S(e.lastDonationDate):"-"}),(0,n.jsx)(u,{children:e.age}),(0,n.jsx)(u,{children:(0,n.jsx)(O,{variant:r?"destructive":"outline",className:r?"bg-red-800 hover:bg-red-900":"",children:r?"Active":"Inactive"})}),(0,n.jsx)(u,{children:e.contactNumber}),(0,n.jsx)(u,{children:e.totalBloodDonate}),(0,n.jsx)(u,{className:"text-right",children:(0,n.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,n.jsxs)(m.$,{variant:"ghost",size:"icon",onClick:()=>k(e.id),disabled:t,children:[(0,n.jsx)(g,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"sr-only",children:"Edit"})]}),(0,n.jsxs)(m.$,{variant:"ghost",size:"icon",onClick:()=>b(e.id),disabled:t,children:[(0,n.jsx)(f,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"sr-only",children:"Delete"})]})]})})]},e.id)}):(0,n.jsx)(c,{children:(0,n.jsx)(u,{colSpan:11,className:"h-24 text-center",children:"No donors found matching your criteria"})})})]})}),(0,n.jsx)("div",{className:"flex justify-end mt-4",children:(0,n.jsxs)(m.$,{onClick:()=>{try{Promise.all([a.e(570),a.e(717),a.e(669),a.e(810)]).then(a.t.bind(a,61102,23)).then(e=>{let t=document.querySelector("table");if(!t){y({title:"Error",description:"Could not find table to export",variant:"destructive"});return}let a=t.cloneNode(!0),n=a.querySelector("thead tr"),r=null==n?void 0:n.lastElementChild;r&&r.remove(),a.querySelectorAll("tbody tr").forEach(e=>{let t=e.lastElementChild;t&&t.remove();let a=e.children[8];if(a){var n;let e=null===(n=a.textContent)||void 0===n?void 0:n.trim(),t="Active"===e,r=e?e.length:0,l=Math.max(7*r+10,60),i='\n              <svg width="'.concat(l,'" height="').concat(24,'" xmlns="http://www.w3.org/2000/svg">\n                <rect x="0" y="0" width="').concat(l,'" height="').concat(24,'" rx="9999" ry="9999" fill="').concat(t?"#ef4444":"#ffffff",'" style="stroke: ').concat(t?"none":"#e5e7eb","; stroke-width: ").concat(t?"0":"1",';"/>\n                <text x="50%" y="50%" font-family="Arial, sans-serif" font-size="12" font-weight="600" fill="').concat(t?"#ffffff":"#1f2937",'" text-anchor="middle" dominant-baseline="middle">').concat(e,"</text>\n              </svg>\n            "),s=encodeURIComponent(i);a.innerHTML='<img src="data:image/svg+xml;charset=utf-8,'.concat(s,'" style="display: block; margin: 0 auto;" alt="').concat(e,' Status"/>')}});let l='\n          <html>\n            <head>\n              <title>Qazalbash Blood Donation Donors list Gilgit Baltistan</title>\n              <style>\n                html, body { box-sizing: border-box; height: auto; min-height: 100%; }\n                body { font-family: Arial, sans-serif; margin: 0; padding-bottom: 100px; height: 4000px; }\n                table { width: 100%; border-collapse: collapse; margin: 20px 0; }\n                th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }\n                th { background-color: #f5f5f5; }\n                .header {\n                  text-align: center;\n                  margin-bottom: 20px;\n                }\n                .footer {\n                  text-align: center;\n                  margin-top: 40px;\n                  font-size: 10px; \n                  border-top: 1px solid #ddd;\n                  padding-top: 10px;\n                  min-height: 50px; \n                }\n                th, td {\n                  vertical-align: middle;\n                  padding: 8px !important;\n                  text-align: center;\n                }\n                td:nth-child(2),\n                td:nth-child(4),\n                td:nth-child(5)\n                {\n                  text-align: left; \n                }\n                td img {\n                  display: block !important;\n                  margin: 0 auto !important;\n                  vertical-align: middle;\n                }\n                td:first-child {\n                  width: 50px;\n                  text-align: center;\n                }\n              </style>\n            </head>\n            <body>\n              <div class="header">\n                <h1 style="font-size: 24px; margin-bottom: 5px;">Qazalbash Blood Donation Donors list</h1>\n                <h2 style="font-size: 20px; margin-top: 0;">Gilgit Baltistan</h2>\n              </div>\n              '.concat(a.outerHTML,'\n              <div class="footer pdf-footer">\n                <p>&copy; ').concat(new Date().getFullYear()," Qazalbash Blood Donation Gilgit Baltistan. Designed by Asif Ali</p>\n              </div>\n            </body>\n          </html>\n        ");e.default().from(l).set({margin:[10,10,80,10],filename:"Raha_Khuda_Donors_List.pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:3,logging:!0,dpi:300,letterRendering:!0,useCORS:!0,windowWidth:1200,windowHeight:3500,allowTaint:!0,ignoreElements:e=>e.classList.contains("no-pdf-export")},jsPDF:{unit:"pt",format:"a4",orientation:"landscape",compress:!0}}).save(),y({title:"Export Successful",description:"The donor list has been downloaded as a PDF file."})}).catch(e=>{console.error("Error loading html2pdf.js:",e),y({title:"Error",description:"Failed to load PDF export functionality.",variant:"destructive"})})}catch(e){console.error("Error exporting to PDF:",e),y({title:"Error",description:"Failed to export to PDF. Please try again.",variant:"destructive"})}},className:"bg-red-800 hover:bg-red-900 text-white",children:[(0,n.jsx)(p,{className:"mr-2 h-4 w-4"}),"Export to PDF"]})}),i&&(0,n.jsx)(L,{donorId:i,open:!!i,onOpenChange:e=>{e||x(null)}}),(0,n.jsx)(_.Lt,{open:!!v,onOpenChange:e=>!e&&b(null),children:(0,n.jsxs)(_.EO,{children:[(0,n.jsxs)(_.wd,{children:[(0,n.jsx)(_.r7,{children:"Are you sure?"}),(0,n.jsx)(_.$v,{children:"This action cannot be undone. This will permanently delete the donor from the system."})]}),(0,n.jsxs)(_.ck,{children:[(0,n.jsx)(_.Zr,{children:"Cancel"}),(0,n.jsx)(_.Rx,{onClick:F,children:"Delete"})]})]})})]})}}}]);