exports.id=687,exports.ids=[687],exports.modules={436:(e,o,t)=>{"use strict";t.d(o,{I9:()=>d,Ay:()=>g,Ys:()=>n,dr:()=>m,_F:()=>f});var r=t(2284);let a=(0,t(7664).UU)("https://bfkpuxsppgdsvbuwknog.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJma3B1eHNwcGdkc3ZidXdrbm9nIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ1NTk4NDEsImV4cCI6MjA3MDEzNTg0MX0.TI6RTlh56UHW-j5WGMuALvJe7P86SqW3VXMFkhBc4Uc"),n=(0,r.zD)("donors/fetchDonors",async()=>{let{data:e,error:o}=await a.from("donors").select("*");if(o)throw o;return e&&0!==e.length?e.map(e=>({id:e.id,fullName:e.fullname,fatherName:e.fathername,totalBloodDonate:e.totalblooddonate,bloodGroup:e.bloodgroup,age:e.age,city:e.city,lastDonationDate:e.lastdonationdate,address:e.address,contactNumber:e.contactnumber,donationStatus:e.donationstatus})):[]}),d=(0,r.zD)("donors/addDonor",async e=>{let o={fullname:e.fullName,fathername:e.fatherName,totalblooddonate:e.totalBloodDonate,bloodgroup:e.bloodGroup,age:e.age,city:e.city,address:e.address,contactnumber:e.contactNumber,lastdonationdate:e.lastDonationDate,donationstatus:e.donationStatus,createdat:new Date().toISOString(),updatedat:new Date().toISOString()},{data:t,error:r}=await a.from("donors").insert([o]).select();if(r)throw r;if(!t||0===t.length)throw Error("No donor inserted");let n=t[0];return{id:n.id,fullName:n.fullname,fatherName:n.fathername,totalBloodDonate:n.totalblooddonate,bloodGroup:n.bloodgroup,age:n.age,city:n.city,lastDonationDate:n.lastdonationdate,address:n.address,contactNumber:n.contactnumber,donationStatus:n.donationstatus}}),s=(0,r.zD)("donors/updateDonor",async e=>{let o={fullname:e.fullName,fathername:e.fatherName,totalblooddonate:e.totalBloodDonate,bloodgroup:e.bloodGroup,age:e.age,city:e.city,address:e.address,contactnumber:e.contactNumber,lastdonationdate:e.lastDonationDate,donationstatus:e.donationStatus,updatedat:new Date().toISOString()},{data:t,error:r}=await a.from("donors").update(o).eq("id",e.id).select();if(r)throw r;if(!t||0===t.length)throw Error("Donor not updated");let n=t[0];return{id:n.id,fullName:n.fullname,fatherName:n.fathername,totalBloodDonate:n.totalblooddonate,bloodGroup:n.bloodgroup,age:n.age,city:n.city,lastDonationDate:n.lastdonationdate,address:n.address,contactNumber:n.contactnumber,donationStatus:n.donationstatus}}),i=(0,r.zD)("donors/deleteDonor",async e=>{let{error:o}=await a.from("donors").delete().eq("id",e);if(o)throw o;return e}),l={donors:[],filteredDonors:[],filters:{name:"",fatherName:"",totalBloodDonate:"",bloodGroup:"",city:"",donationStatus:""},loading:!1,error:null},u=(e,o)=>e.filter(e=>{let t=!o.name||e.fullName.toLowerCase().includes(o.name.toLowerCase()),r=!o.fatherName||e.fatherName.toLowerCase().includes(o.fatherName.toLowerCase()),a=!o.totalBloodDonate||e.totalBloodDonate==o.totalBloodDonate,n=!o.bloodGroup||"All Blood Groups"===o.bloodGroup||e.bloodGroup===o.bloodGroup,d=!o.city||"Select city"===o.city||e.city===o.city,s=!o.donationStatus||"All Donors"===o.donationStatus||e.donationStatus===o.donationStatus;return t&&r&&a&&n&&d&&s}),c=(0,r.Z0)({name:"donors",initialState:l,reducers:{setFilters:(e,o)=>{e.filters={...e.filters,...o.payload},e.filteredDonors=u(e.donors,e.filters)},resetFilters:e=>{e.filters=l.filters,e.filteredDonors=e.donors},clearError:e=>{e.error=null}},extraReducers:e=>{e.addCase(n.pending,e=>{e.loading=!0}).addCase(n.fulfilled,(e,o)=>{e.loading=!1,e.donors=o.payload,e.filteredDonors=o.payload}).addCase(n.rejected,(e,o)=>{e.loading=!1,e.error=o.error.message||"Failed to fetch donors"}).addCase(d.pending,e=>{e.loading=!0}).addCase(d.fulfilled,(e,o)=>{e.donors.some(e=>e.id===o.payload.id)||e.donors.push(o.payload),e.filteredDonors=u(e.donors,e.filters),e.loading=!1}).addCase(d.rejected,(e,o)=>{e.loading=!1,e.error=o.error.message||"Failed to add donor"}).addCase(s.pending,e=>{e.loading=!0}).addCase(s.fulfilled,(e,o)=>{let t=e.donors.findIndex(e=>e.id===o.payload.id);-1!==t&&(e.donors[t]=o.payload,e.filteredDonors=u(e.donors,e.filters)),e.loading=!1}).addCase(s.rejected,(e,o)=>{e.loading=!1,e.error=o.error.message||"Failed to update donor"}).addCase(i.pending,e=>{e.loading=!0}).addCase(i.fulfilled,(e,o)=>{e.donors=e.donors.filter(e=>e.id!==o.payload),e.filteredDonors=u(e.donors,e.filters),e.loading=!1}).addCase(i.rejected,(e,o)=>{e.loading=!1,e.error=o.error.message||"Failed to delete donor"})}}),{setFilters:f,resetFilters:m,clearError:b}=c.actions,g=c.reducer},1203:(e,o,t)=>{Promise.resolve().then(t.bind(t,9082))},1754:(e,o,t)=>{"use strict";t.d(o,{J:()=>l});var r=t(3639),a=t(3602),n=t(7952),d=t(4730),s=t(6053);let i=(0,d.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=a.forwardRef(({className:e,...o},t)=>(0,r.jsx)(n.b,{ref:t,className:(0,s.cn)(i(),e),...o}));l.displayName=n.b.displayName},3498:(e,o,t)=>{"use strict";t.d(o,{$:()=>l,r:()=>i});var r=t(3639),a=t(3602),n=t(3969),d=t(4730),s=t(6053);let i=(0,d.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=a.forwardRef(({className:e,variant:o,size:t,asChild:a=!1,...d},l)=>{let u=a?n.DX:"button";return(0,r.jsx)(u,{className:(0,s.cn)(i({variant:o,size:t,className:e})),ref:l,...d})});l.displayName="Button"},5088:(e,o,t)=>{"use strict";t.d(o,{Ay:()=>d,iD:()=>a,ri:()=>n});let r=(0,t(2284).Z0)({name:"auth",initialState:{isAuthenticated:!1,user:null},reducers:{login:(e,o)=>{e.isAuthenticated=!0,e.user={email:o.payload.email},localStorage.setItem("authState",JSON.stringify(e)),document.cookie="auth=true; path=/; max-age=31536000"},logout:e=>{localStorage.removeItem("authState"),document.cookie="auth=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",e.isAuthenticated=!1,e.user=null}}}),{login:a,logout:n}=r.actions,d=r.reducer},5220:()=>{},5942:(e,o,t)=>{"use strict";t.r(o),t.d(o,{default:()=>i,metadata:()=>s});var r=t(3941),a=t(7317),n=t.n(a);t(5220);var d=t(9082);let s={title:"Qazalbash Blood Donation Gilgit Baltistan",description:"A system to manage blood donors"};function i({children:e}){return(0,r.jsx)("html",{lang:"en",children:(0,r.jsx)("body",{className:n().className,children:(0,r.jsx)(d.Providers,{children:e})})})}},6053:(e,o,t)=>{"use strict";t.d(o,{cn:()=>n});var r=t(9186),a=t(7859);function n(...e){return(0,a.QP)((0,r.$)(e))}},6779:(e,o,t)=>{"use strict";t.d(o,{Providers:()=>l});var r=t(3639),a=t(2284),n=t(5088),d=t(436);let s=(0,a.U1)({reducer:{auth:n.Ay,donors:d.Ay}});var i=t(8055);function l({children:e}){return(0,r.jsx)(i.Kq,{store:s,children:e})}},6859:(e,o,t)=>{Promise.resolve().then(t.bind(t,6779))},7507:(e,o,t)=>{Promise.resolve().then(t.t.bind(t,1090,23)),Promise.resolve().then(t.t.bind(t,3036,23)),Promise.resolve().then(t.t.bind(t,9680,23)),Promise.resolve().then(t.t.bind(t,8923,23)),Promise.resolve().then(t.t.bind(t,2651,23)),Promise.resolve().then(t.t.bind(t,8739,23)),Promise.resolve().then(t.t.bind(t,371,23)),Promise.resolve().then(t.t.bind(t,8077,23))},7835:(e,o,t)=>{Promise.resolve().then(t.t.bind(t,2732,23)),Promise.resolve().then(t.t.bind(t,746,23)),Promise.resolve().then(t.t.bind(t,3642,23)),Promise.resolve().then(t.t.bind(t,5333,23)),Promise.resolve().then(t.t.bind(t,3121,23)),Promise.resolve().then(t.t.bind(t,6777,23)),Promise.resolve().then(t.t.bind(t,1377,23)),Promise.resolve().then(t.t.bind(t,2379,23))},9067:e=>{function o(e){var o=Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}o.keys=()=>[],o.resolve=o,o.id=9067,e.exports=o},9082:(e,o,t)=>{"use strict";t.d(o,{Providers:()=>r});let r=(0,t(3115).registerClientReference)(function(){throw Error("Attempted to call Providers() from the server but Providers is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\coding\\qazal bash\\QazalBash\\redux\\provider.tsx","Providers")},9496:(e,o,t)=>{"use strict";t.d(o,{p:()=>d});var r=t(3639),a=t(3602),n=t(6053);let d=a.forwardRef(({className:e,type:o,...t},a)=>(0,r.jsx)("input",{type:o,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...t}));d.displayName="Input"}};