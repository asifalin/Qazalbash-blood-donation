(()=>{var e={};e.id=492,e.ids=[492],e.modules={436:(e,t,o)=>{"use strict";o.d(t,{I9:()=>s,Ay:()=>f,Ys:()=>n,dr:()=>p,_F:()=>m});var r=o(2284);let a=(0,o(7664).UU)("https://bfkpuxsppgdsvbuwknog.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJma3B1eHNwcGdkc3ZidXdrbm9nIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ1NTk4NDEsImV4cCI6MjA3MDEzNTg0MX0.TI6RTlh56UHW-j5WGMuALvJe7P86SqW3VXMFkhBc4Uc"),n=(0,r.zD)("donors/fetchDonors",async()=>{let{data:e,error:t}=await a.from("donors").select("*");if(t)throw t;return e&&0!==e.length?e.map(e=>({id:e.id,fullName:e.fullname,fatherName:e.fathername,totalBloodDonate:e.totalblooddonate,bloodGroup:e.bloodgroup,age:e.age,city:e.city,lastDonationDate:e.lastdonationdate,address:e.address,contactNumber:e.contactnumber,donationStatus:e.donationstatus})):[]}),s=(0,r.zD)("donors/addDonor",async e=>{let t={fullname:e.fullName,fathername:e.fatherName,totalblooddonate:e.totalBloodDonate,bloodgroup:e.bloodGroup,age:e.age,city:e.city,address:e.address,contactnumber:e.contactNumber,lastdonationdate:e.lastDonationDate,donationstatus:e.donationStatus,createdat:new Date().toISOString(),updatedat:new Date().toISOString()},{data:o,error:r}=await a.from("donors").insert([t]).select();if(r)throw r;if(!o||0===o.length)throw Error("No donor inserted");let n=o[0];return{id:n.id,fullName:n.fullname,fatherName:n.fathername,totalBloodDonate:n.totalblooddonate,bloodGroup:n.bloodgroup,age:n.age,city:n.city,lastDonationDate:n.lastdonationdate,address:n.address,contactNumber:n.contactnumber,donationStatus:n.donationstatus}}),d=(0,r.zD)("donors/updateDonor",async e=>{let t={fullname:e.fullName,fathername:e.fatherName,totalblooddonate:e.totalBloodDonate,bloodgroup:e.bloodGroup,age:e.age,city:e.city,address:e.address,contactnumber:e.contactNumber,lastdonationdate:e.lastDonationDate,donationstatus:e.donationStatus,updatedat:new Date().toISOString()},{data:o,error:r}=await a.from("donors").update(t).eq("id",e.id).select();if(r)throw r;if(!o||0===o.length)throw Error("Donor not updated");let n=o[0];return{id:n.id,fullName:n.fullname,fatherName:n.fathername,totalBloodDonate:n.totalblooddonate,bloodGroup:n.bloodgroup,age:n.age,city:n.city,lastDonationDate:n.lastdonationdate,address:n.address,contactNumber:n.contactnumber,donationStatus:n.donationstatus}}),i=(0,r.zD)("donors/deleteDonor",async e=>{let{error:t}=await a.from("donors").delete().eq("id",e);if(t)throw t;return e}),l={donors:[],filteredDonors:[],filters:{name:"",fatherName:"",totalBloodDonate:"",bloodGroup:"",city:"",donationStatus:""},loading:!1,error:null},u=(e,t)=>e.filter(e=>{let o=!t.name||e.fullName.toLowerCase().includes(t.name.toLowerCase()),r=!t.fatherName||e.fatherName.toLowerCase().includes(t.fatherName.toLowerCase()),a=!t.totalBloodDonate||e.totalBloodDonate==t.totalBloodDonate,n=!t.bloodGroup||"All Blood Groups"===t.bloodGroup||e.bloodGroup===t.bloodGroup,s=!t.city||"Select city"===t.city||e.city===t.city,d=!t.donationStatus||"All Donors"===t.donationStatus||e.donationStatus===t.donationStatus;return o&&r&&a&&n&&s&&d}),c=(0,r.Z0)({name:"donors",initialState:l,reducers:{setFilters:(e,t)=>{e.filters={...e.filters,...t.payload},e.filteredDonors=u(e.donors,e.filters)},resetFilters:e=>{e.filters=l.filters,e.filteredDonors=e.donors},clearError:e=>{e.error=null}},extraReducers:e=>{e.addCase(n.pending,e=>{e.loading=!0}).addCase(n.fulfilled,(e,t)=>{e.loading=!1,e.donors=t.payload,e.filteredDonors=t.payload}).addCase(n.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message||"Failed to fetch donors"}).addCase(s.pending,e=>{e.loading=!0}).addCase(s.fulfilled,(e,t)=>{e.donors.some(e=>e.id===t.payload.id)||e.donors.push(t.payload),e.filteredDonors=u(e.donors,e.filters),e.loading=!1}).addCase(s.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message||"Failed to add donor"}).addCase(d.pending,e=>{e.loading=!0}).addCase(d.fulfilled,(e,t)=>{let o=e.donors.findIndex(e=>e.id===t.payload.id);-1!==o&&(e.donors[o]=t.payload,e.filteredDonors=u(e.donors,e.filters)),e.loading=!1}).addCase(d.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message||"Failed to update donor"}).addCase(i.pending,e=>{e.loading=!0}).addCase(i.fulfilled,(e,t)=>{e.donors=e.donors.filter(e=>e.id!==t.payload),e.filteredDonors=u(e.donors,e.filters),e.loading=!1}).addCase(i.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message||"Failed to delete donor"})}}),{setFilters:m,resetFilters:p,clearError:h}=c.actions,f=c.reducer},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1203:(e,t,o)=>{Promise.resolve().then(o.bind(o,9082))},1630:e=>{"use strict";e.exports=require("http")},1997:e=>{"use strict";e.exports=require("punycode")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},4015:(e,t,o)=>{"use strict";o.r(t),o.d(t,{GlobalError:()=>s.a,__next_app__:()=>c,pages:()=>u,routeModule:()=>m,tree:()=>l});var r=o(8343),a=o(4360),n=o(3642),s=o.n(n),d=o(3357),i={};for(let e in d)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>d[e]);o.d(t,i);let l={children:["",{children:["/_not-found",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(o.t.bind(o,9558,23)),"next/dist/client/components/not-found-error"]}]},{}]},{layout:[()=>Promise.resolve().then(o.bind(o,5942)),"D:\\coding\\qazal bash\\QazalBash\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(o.t.bind(o,9558,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(o.t.bind(o,7375,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(o.t.bind(o,3812,23)),"next/dist/client/components/unauthorized-error"]}]}.children,u=[],c={require:o,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/_not-found/page",pathname:"/_not-found",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},4075:e=>{"use strict";e.exports=require("zlib")},5088:(e,t,o)=>{"use strict";o.d(t,{Ay:()=>s,iD:()=>a,ri:()=>n});let r=(0,o(2284).Z0)({name:"auth",initialState:{isAuthenticated:!1,user:null},reducers:{login:(e,t)=>{e.isAuthenticated=!0,e.user={email:t.payload.email},localStorage.setItem("authState",JSON.stringify(e)),document.cookie="auth=true; path=/; max-age=31536000"},logout:e=>{localStorage.removeItem("authState"),document.cookie="auth=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",e.isAuthenticated=!1,e.user=null}}}),{login:a,logout:n}=r.actions,s=r.reducer},5220:()=>{},5591:e=>{"use strict";e.exports=require("https")},5942:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>i,metadata:()=>d});var r=o(3941),a=o(7317),n=o.n(a);o(5220);var s=o(9082);let d={title:"Qazalbash Blood Donation Gilgit Baltistan",description:"A system to manage blood donors"};function i({children:e}){return(0,r.jsx)("html",{lang:"en",children:(0,r.jsx)("body",{className:n().className,children:(0,r.jsx)(s.Providers,{children:e})})})}},6779:(e,t,o)=>{"use strict";o.d(t,{Providers:()=>l});var r=o(3639),a=o(2284),n=o(5088),s=o(436);let d=(0,a.U1)({reducer:{auth:n.Ay,donors:s.Ay}});var i=o(8055);function l({children:e}){return(0,r.jsx)(i.Kq,{store:d,children:e})}},6859:(e,t,o)=>{Promise.resolve().then(o.bind(o,6779))},7507:(e,t,o)=>{Promise.resolve().then(o.t.bind(o,1090,23)),Promise.resolve().then(o.t.bind(o,3036,23)),Promise.resolve().then(o.t.bind(o,9680,23)),Promise.resolve().then(o.t.bind(o,8923,23)),Promise.resolve().then(o.t.bind(o,2651,23)),Promise.resolve().then(o.t.bind(o,8739,23)),Promise.resolve().then(o.t.bind(o,371,23)),Promise.resolve().then(o.t.bind(o,8077,23))},7835:(e,t,o)=>{Promise.resolve().then(o.t.bind(o,2732,23)),Promise.resolve().then(o.t.bind(o,746,23)),Promise.resolve().then(o.t.bind(o,3642,23)),Promise.resolve().then(o.t.bind(o,5333,23)),Promise.resolve().then(o.t.bind(o,3121,23)),Promise.resolve().then(o.t.bind(o,6777,23)),Promise.resolve().then(o.t.bind(o,1377,23)),Promise.resolve().then(o.t.bind(o,2379,23))},7910:e=>{"use strict";e.exports=require("stream")},9067:e=>{function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=9067,e.exports=t},9082:(e,t,o)=>{"use strict";o.d(t,{Providers:()=>r});let r=(0,o(3115).registerClientReference)(function(){throw Error("Attempted to call Providers() from the server but Providers is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\coding\\qazal bash\\QazalBash\\redux\\provider.tsx","Providers")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9551:e=>{"use strict";e.exports=require("url")}};var t=require("../../webpack-runtime.js");t.C(e);var o=e=>t(t.s=e),r=t.X(0,[535,128],()=>o(4015));module.exports=r})();